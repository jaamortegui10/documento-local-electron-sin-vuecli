(function(t){function e(e){for(var o,n,c=e[0],s=e[1],l=e[2],h=0,d=[];h<c.length;h++)n=c[h],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],o=!0,c=1;c<r.length;c++){var s=r[c];0!==i[s]&&(o=!1)}o&&(a.splice(e--,1),t=n(n.s=r[0]))}return t}var o={},i={app:0},a=[];function n(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=o,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0769":function(t,e,r){},"3cc2":function(t,e,r){},"555a":function(t,e,r){t.exports=r.p+"img/icon.324cd781.png"},"56d7":function(t,e,r){"use strict";r.r(e);var o=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("principal-view")],1)},a=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{staticClass:"pb-1 pl-0 mt-0 pt-0"},[r("v-row",{staticClass:"d-flex justify-space-between"},[r("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"3"}},[r("v-card",{staticClass:"pl-0 pr-0"},[r("v-img",{attrs:{src:t.urlIcon,width:"120",position:"center center","aspect-ratio":"1",contain:""}})],1)],1),r("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12",sm:"8",md:"8"}},[r("h2",{staticClass:"titulo-header body-3 ml-7"},[t._v("Aplicativo Digitalización")])])],1),r("v-row",{staticClass:"mb-0",attrs:{wrap:""}})],1),r("v-divider",{staticClass:"mt-0"}),r("v-content",[r("v-row",[r("filtro")],1),r("v-divider",{staticClass:"mt-0"}),r("v-row",[r("archivos")],1)],1)],1)},c=[],s=r("555a"),l=r.n(s),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-form",[r("v-row",{attrs:{justify:"space-around",dense:""}},[r("v-col",{attrs:{cols:"12",sm:"5"}},[r("label",{staticClass:"ml-2"},[t._v("Tipo de documento")]),r("v-select",{staticClass:"mt-4",attrs:{"prepend-inner-icon":"mdi-arrow-down-drop-circle",items:t.itemsTipoDocumento,outlined:"",rounded:"","append-icon":""},model:{value:t.tipoDocumento,callback:function(e){t.tipoDocumento=e},expression:"tipoDocumento"}})],1),r("v-col",{attrs:{cols:"12",sm:"5"}},[r("label",{staticClass:"ml-2"},[t._v("Fecha")]),r("v-select",{staticClass:"mt-4",attrs:{"prepend-inner-icon":"mdi-arrow-down-drop-circle",items:t.itemsFecha,disabled:!t.fechaValida,outlined:"",rounded:"","append-icon":""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),r("v-col",{attrs:{cols:"12",sm:"5"}},[r("label",{staticClass:"ml-2"},[t._v("Número de factura")]),r("v-text-field",{staticClass:"mt-4",attrs:{disabled:!t.tercerFiltroValido,height:"10",width:"10",outlined:"",rounded:""},model:{value:t.numeroFactura,callback:function(e){t.numeroFactura=e},expression:"numeroFactura"}})],1),r("v-col",{attrs:{cols:"12",sm:"5"}},[r("label",{staticClass:"ml-2"},[t._v("Nombre")]),r("v-text-field",{staticClass:"mt-4",attrs:{"single-line":"","prepend-inner-icon":"mdi-magnify",disabled:!t.tercerFiltroValido,outlined:"",rounded:""},model:{value:t.nombreArchivo,callback:function(e){t.nombreArchivo=e},expression:"nombreArchivo"}})],1),r("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"6"}},[r("v-btn",{staticClass:"pl-2 mb-6 mt-0",attrs:{disabled:!t.valido,width:"150",color:"primary",rounded:""},on:{click:t.enviarFiltros}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-magnify")]),r("span",[t._v("Consultar")])],1)],1)],1)],1)],1)},h=[],d=r("b137"),m=d["a"],f=(r("f53f"),r("2877")),p=r("6544"),v=r.n(p),b=r("8336"),F=r("62ad"),g=r("a523"),D=r("4bd4"),y=r("132d"),C=r("0fd9"),w=r("b974"),V=r("8654"),I=Object(f["a"])(m,u,h,!1,null,null,null),A=I.exports;v()(I,{VBtn:b["a"],VCol:F["a"],VContainer:g["a"],VForm:D["a"],VIcon:y["a"],VRow:C["a"],VSelect:w["a"],VTextField:V["a"]});var _=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",t._l(t.archivos,function(e){return r("v-col",{key:e.indice,attrs:{cols:"12",sm:"4",md:"3"}},[r("v-card",{staticClass:"text-center archivo",attrs:{flat:""},on:{click:function(r){return t.abrirArchivo(e)}}},[r("v-icon",{attrs:{size:"100",color:"directory"===e.tipo?"#A79025":"#7FA194"}},[t._v("\n\t\t\t\t\t"+t._s("directory"===e.tipo?"mdi-folder-open":"mdi-file-document")+"\n\t\t\t\t")]),r("v-card-title",{staticClass:"v-flex justify-center pl-0 pr-0"},[r("h4",{staticClass:"bx-0 body-2",attrs:{justify:"center"}},[t._v(t._s(e.nombre))])])],1)],1)}),1)],1)},j=[],x=(r("340b"),r("f5ef"));const T=r("3e8f"),O=r("df7c"),{ipcRenderer:N}=r("bdb9");var P={data(){return{archivos:[],rutaInicial:""}},methods:{abrirArchivo(t){console.log("Leyendo archivo: ",t),N.send("pdf:open",t.ruta)},retroceder(){N.send("ruta:post",null)},buscarRutasArchivosCoincidentesFiltros(t){console.log("Desde Archivos:"),console.log("Ruta Inicial: ",this.rutaInicial);let e=O.join(this.rutaInicial,t.tipoDoc),r=[];return t.fechas.forEach(o=>{let i=O.join(e,o),a=T.readdirSync(i);a?a.forEach(e=>{t.numFactura?this.archivoPerteneceANumFactura(e,t.numFactura)&&this.agregarArchivo(r,i,e):t.nombre&&-1!=e.search(t.nombre)&&this.agregarArchivo(r,i,e)}):console.log(`Ocurrió un error leyendo archivos en fecha: ${o}`)}),r},archivoPerteneceANumFactura(t,e){let r,o="",i=!0;for(let a=0;a<t.length&&i;a++)r=parseInt(t[a]),isNaN(r)?o.length>0&&(i=!1):o+=r;return parseInt(o)==e},agregarArchivo(t,e,r){t.push({nombre:r,ruta:O.join(e,r)})}},watch:{},created(){N.send("ruta:get"),N.on("ruta:get",(t,e)=>{this.rutaInicial=e.rutaInicial}),x["a"].$on("enviarFiltros",t=>{let e=this.buscarRutasArchivosCoincidentesFiltros(t);this.archivos=e,console.log("Rutas Archivos: ",this.archivos)})},mounted(){}},R=P,$=(r("9b82"),r("b0af")),S=r("99d9"),k=Object(f["a"])(R,_,j,!1,null,null,null),E=k.exports;v()(k,{VCard:$["a"],VCardTitle:S["a"],VCol:F["a"],VContainer:g["a"],VIcon:y["a"],VRow:C["a"]});r("3e8f"),r("df7c");const{ipcRenderer:M}=r("bdb9");var z={data(){return{urlIcon:l.a,filtroTipoDocumento:"",filtroFecha:"",filtroNumeroFactura:null,rutaInicial:""}},methods:{enviarFiltroTipoDocumento(t){this.filtroTipoDocumento=t},enviarFiltroFecha(t){this.filtroFecha=t},enviarFiltroNumeroFactura(t){this.numeroFactura=t}},beforeCreate(){M.send("ruta:get"),M.on("ruta:get",(t,e)=>{this.rutaInicial=e.rutaInicial,this.$store.commit("setRutaInicial",this.rutaInicial)})},components:{Filtro:A,Archivos:E}},J=z,B=(r("c01d"),r("a75b")),L=r("ce7e"),q=r("adda"),G=Object(f["a"])(J,n,c,!1,null,null,null),H=G.exports;v()(G,{VCard:$["a"],VCol:F["a"],VContainer:g["a"],VContent:B["a"],VDivider:L["a"],VImg:q["a"],VRow:C["a"]});var K={name:"App",components:{PrincipalView:H},data:()=>({})},Q=K,U=r("7496"),W=Object(f["a"])(Q,i,a,!1,null,null,null),X=W.exports;v()(W,{VApp:U["a"]});var Y=r("f309");o["a"].use(Y["a"]);var Z=new Y["a"]({icons:{iconfont:"mdi"}}),tt=r("2f62");o["a"].use(tt["a"]);const et={state:{rutaInicial:"",rutaActual:"",filtroTipoDocumento:"",filtroFecha:null,filtroNumeroFactura:null,tiposDocumentos:[]},getters:{getRutaInicial(t){return t.rutaInicial},getFiltroTipoDocumento(t){return t.filtroTipoDocumento},getFiltroFecha(t){return t.filtroFecha},getFiltroNumeroFactura(t){return t.filtroNumeroFactura},getTiposDocumentos(t){return t.tiposDocumentos}},mutations:{setRutaInicial(t,e){t.rutaInicial=e},setFiltroTipoDocumento(t,e){t.filtroTipoDocumento=e},setFiltroFecha(t,e){t.filtroFecha=e},setFiltroNumeroFactura(t,e){t.filtroNumeroFactura=e},setTiposDocumentos(t,e){t.tiposDocumentos=e},resetState(t){t.filtroTipoDocumento="",t.filtroFecha=null,t.filtroNumeroFactura=null}},actions:{}};var rt=new tt["a"].Store({modules:[et]});o["a"].config.productionTip=!1,new o["a"]({vuetify:Z,store:rt,render:t=>t(X)}).$mount("#app")},"9b82":function(t,e,r){"use strict";var o=r("aeee"),i=r.n(o);i.a},aeee:function(t,e,r){},b137:function(t,e,r){"use strict";(function(t){r("340b");var o=r("f5ef");const i=r("3e8f"),a=r("df7c"),{ipcRenderer:n}=r("bdb9");e["a"]={data(){return{tipoDocumento:"",numeroFactura:"",nombreArchivo:"",itemsTipoDocumento:[],itemsFecha:["todas"],fecha:"",focusFiltro3:0,fechaValida:!1,tercerFiltroValido:!1}},computed:{valido(){return this.fechaValida&&this.tercerFiltroValido&&(this.numeroFactura||this.nombreArchivo)}},watch:{tipoDocumento(t,e){this.$store.commit("setFiltroTipoDocumento",t),this.tipoDocumento?this.fechaValida=!0:this.fechaValida=!1,this.fecha&&(this.fecha=""),this.instanciarFechas()},fecha(t,e){this.$store.commit("setFiltroFecha",t),this.fecha?this.tercerFiltroValido=!0:this.tercerFiltroValido=!1},numeroFactura(t,e){""!=t&&this.nombreArchivo.length>0&&(this.nombreArchivo="")},nombreArchivo(t,e){""!=t&&this.numeroFactura.length>0&&(this.numeroFactura="")}},methods:{instanciarTiposDocumentos(){i.readdir(this.rutaInicial,(e,r)=>{if(e)return console.log("Ocurrió un error leyendo los directorios iniciales: ",e),null;let o=[];r.forEach(e=>{let r=a.join(this.rutaInicial,e),n=i.statSync(r);n.isDirectory()&&(a.relative(t,r)<a.relative(t,this.rutaInicial)||o.push(e))}),this.$store.commit("setTiposDocumentos",o),this.itemsTipoDocumento=o})},instanciarFechas(){i.readdir(a.join(this.rutaInicial,this.tipoDocumento),(t,e)=>{if(t)return console.log("Ocurrió un error leyendo archivos de carpeta fecha: ",t),null;let r=[];e.forEach(t=>{let e=a.join(this.rutaInicial,this.tipoDocumento,t),o=i.statSync(e);o.isDirectory()&&r.push(t)}),r.push("todas"),this.itemsFecha=r})},instanciarDocumentos(){"todas"==this.fecha?this.itemsFecha.forEach(t=>{"todas"!=t&&this.instanciarDocumentosPorFecha(t)}):this.instanciarDocumentosPorFecha(this.fecha)},instanciarDocumentosPorFecha(t){},enviarFiltros(){if(this.tipoDocumento&&this.fecha&&(this.numeroFactura||this.nombreArchivo)){let t=[this.fecha];"todas"==this.fecha&&(t=[],this.itemsFecha.forEach(e=>{e!=this.fecha&&t.push(e)})),o["a"].enviarFiltros(this.tipoDocumento,t,this.numeroFactura,this.nombreArchivo)}}},beforeCreate(){n.on("ruta:get",(t,e)=>{this.rutaInicial=e.rutaInicial,this.instanciarTiposDocumentos()}),n.send("ruta:get")}}}).call(this,"/")},c01d:function(t,e,r){"use strict";var o=r("0769"),i=r.n(o);i.a},f53f:function(t,e,r){"use strict";var o=r("3cc2"),i=r.n(o);i.a},f5ef:function(t,e,r){"use strict";var o=r("2b0e");const i=new o["a"]({methods:{enviarFiltros(t,e,r,o){let i={tipoDoc:t,fechas:e,numFactura:r,nombre:o};console.log("Filtros enviandose en bus: ",i),this.$emit("enviarFiltros",i)}}});e["a"]=i}});
//# sourceMappingURL=app.d96ada79.js.map